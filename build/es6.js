"use strict";var __awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{d(o.next(e))}catch(e){r(e)}}function s(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}d((o=o.apply(e,t||[])).next())}))};document.addEventListener("DOMContentLoaded",()=>__awaiter(void 0,void 0,void 0,(function*(){console.log("script.ts loaded");const e=document.getElementById("ping"),t=document.getElementById("dbcheck"),n=(e,t)=>__awaiter(this,void 0,void 0,(function*(){const n=yield fetch(e,t);if(!n.ok)throw n;return yield n.json()})),o=n("/ping");try{yield o}catch(t){return console.error(t),void(e.innerText="Rest-API failed: "+(t.statusText||t))}if("pong"!==(yield o).ping)return void(e.innerText="Rest-API bad response.");e.innerText="Rest-API is working",t.innerText="Testing db-connection?";const i=n("/api/dbtest");try{yield i}catch(e){return console.error(e),void(t.innerText="DB-test failed: "+(e.statusText||e))}const r=yield i;r.ok&&!isNaN(r.count)?t.innerText="Database connection is working, counter = "+r.count+".":t.innerText="DB-test bad response"})));
//# sourceMappingURL=es6.js.map
